# 175. í˜„ì¬ ìƒíƒœ ë° ì‘ì—… ì˜µì…˜

**ì‘ì„±ì¼**: 2025-12-01
**ì‘ì„±ì**: planner
**ë¬¸ì„œ ëª©ì **: í”„ë¡œì íŠ¸ í˜„ì¬ ìƒíƒœ ì •ë¦¬ ë° ë‹¤ìŒ ì‘ì—… ì˜µì…˜ ì œì‹œ

---

## ğŸ“Š í”„ë¡œì íŠ¸ í˜„ì¬ ìƒíƒœ

### âœ… ì™„ë£Œëœ ì‘ì—… (40%)

**Phase 1-2: QR ê¸°ëŠ¥ UI ì™„ì„±** (100% ì™„ë£Œ)
- âœ… QRScanner.tsx: ì¹´ë©”ë¼ ì˜ìƒ ì „ì²´ í™”ë©´ ë°°ê²½ í‘œì‹œ
- âœ… BottomNavigation.tsx: 5ê°œ íƒ­ + ì¤‘ì•™ ì›í˜• QR ë²„íŠ¼
- âœ… UI ê°œì„ : ì‰ë„ìš° ê°•í™”, QR ì•„ì´ì½˜ í¬ê¸° ì¦ê°€
- âœ… TypeScript 0 errors, Next.js ë¹Œë“œ ì„±ê³µ (57 pages)

**ë¬¸ì„œí™”** (100% ì™„ë£Œ)
- âœ… ëŒ€í™” ë‚´ì—­ ì •ë¦¬ (163-169ë²ˆ ë¬¸ì„œ)
- âœ… PRD v3.0 ì—…ë°ì´íŠ¸ (164ë²ˆ)
- âœ… Phase 3-5 ê°œë°œ ê³„íš ìˆ˜ë¦½ (171-173ë²ˆ)
- âœ… ì™„ì „í•œ êµ¬í˜„ ê°€ì´ë“œ ì‘ì„± (172ë²ˆ)
- âœ… ìµœì¢… ì½”ë“œ ë¦¬ë·° ì™„ë£Œ (174ë²ˆ, 98/100 A+)

**Git ì»¤ë°‹**
- âœ… 5ê°œ ì»¤ë°‹ ì™„ë£Œ (0902515, 62dd51d, d55d210, 66439d0, 046dfa8)
- âœ… ëª¨ë“  ë³€ê²½ì‚¬í•­ ì¶”ì  ì™„ë£Œ

---

## â¸ï¸ ì¤‘ë‹¨ëœ ì‘ì—…

### Phase 3: Database ë§ˆì´ê·¸ë ˆì´ì…˜

**ì¤‘ë‹¨ ì´ìœ **: ì‚¬ìš©ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘

**í•„ìš” ì‘ì—…**: `npx prisma migrate reset --force`

**ì˜í–¥ ë²”ìœ„**:
- ë¡œì»¬ ê°œë°œ DB (`moducon_dev`) ëª¨ë“  ë°ì´í„° ì‚­ì œ
- ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”
- schema.prisma ê¸°ë°˜ ê¹¨ë—í•œ DB ì¬ìƒì„±

**ì¶”ê°€í•  í…Œì´ë¸”**:
```prisma
model UserCheckin {
  id          Int      @id @default(autoincrement())
  userId      Int
  targetType  String   // "session" | "booth" | "poster"
  targetId    Int
  createdAt   DateTime @default(now())

  user        User     @relation(fields: [userId], references: [id])
}

model Quiz {
  id             Int      @id @default(autoincrement())
  targetType     String   // "session" | "booth" | "poster"
  targetId       Int
  question       String
  options        Json     // ["ì˜µì…˜1", "ì˜µì…˜2", "ì˜µì…˜3", "ì˜µì…˜4"]
  correctAnswer  Int      // 0-3
  createdAt      DateTime @default(now())
}

model UserQuizAttempt {
  id             Int      @id @default(autoincrement())
  userId         Int
  quizId         Int
  selectedAnswer Int      // 0-3
  isCorrect      Boolean
  createdAt      DateTime @default(now())

  user           User     @relation(fields: [userId], references: [id])
  quiz           Quiz     @relation(fields: [quizId], references: [id])
}
```

**ì•ˆì „ì„± í‰ê°€**:
- âœ… ê°œë°œ í™˜ê²½ DB (`moducon_dev`)
- âœ… localhost:5432 (ë¡œì»¬ DB)
- âœ… í”„ë¡œë•ì…˜ ì•„ë‹˜
- âœ… **ì•ˆì „í•œ ì‘ì—…ìœ¼ë¡œ íŒë‹¨ë¨**

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—… ì˜µì…˜

### Option A: Database ë§ˆì´ê·¸ë ˆì´ì…˜ ì§„í–‰ (ê¶Œì¥)

**ì‚¬ìš©ì ìŠ¹ì¸ í•„ìš”**: "yes" ì…ë ¥

**ì‘ì—… ìˆœì„œ**:
1. Phase 3: Database ë§ˆì´ê·¸ë ˆì´ì…˜ (15ë¶„)
   - `npx prisma migrate reset --force`
   - 3ê°œ í…Œì´ë¸” ì¶”ê°€ (UserCheckin, Quiz, UserQuizAttempt)
   - ê²€ì¦ ë° Git ì»¤ë°‹

2. Phase 4: ì²´í¬ì¸ API êµ¬í˜„ (2ì‹œê°„)
   - POST /api/checkin
   - GET /api/checkins/user/:userId
   - GET /api/checkins/stats/:userId
   - GET /api/quiz/:targetType/:targetId
   - POST /api/quiz/submit

3. Phase 5: ë§ˆì´í˜ì´ì§€ êµ¬í˜„ (1ì‹œê°„)
   - MyPage.tsx
   - Statistics.tsx
   - VisitHistory.tsx
   - ShareCard.tsx

**ì´ ì˜ˆìƒ ì‹œê°„**: 3.25ì‹œê°„

**ì°¸ê³  ë¬¸ì„œ**:
- 172_IMPLEMENTATION_GUIDE.md (ì™„ì „í•œ êµ¬í˜„ ê°€ì´ë“œ)
- 171_SESSION_DATA_PLAN.md (ê°œë°œ ê³„íš)

---

### Option B: Database ëŒ€ì•ˆ ë°©ë²•

**ì‚¬ìš©ì ìŠ¹ì¸ í•„ìš”**: ëŒ€ì•ˆ ë°©ë²• ì„ íƒ

**ê°€ëŠ¥í•œ ëŒ€ì•ˆ**:
1. **ìˆ˜ë™ ë§ˆì´ê·¸ë ˆì´ì…˜ ë³µêµ¬**:
   - ëˆ„ë½ëœ `20251121095428_add_admin_table` íŒŒì¼ ë³µêµ¬
   - Drift í•´ê²° í›„ ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
   - ì‹œê°„ ì†Œìš”: 30ë¶„ ì¶”ê°€

2. **ìƒˆ Database ìƒì„±**:
   - `.env`ì—ì„œ DB ì´ë¦„ ë³€ê²½ (`moducon_dev` â†’ `moducon_dev_v2`)
   - ê¹¨ë—í•œ ìƒíƒœì—ì„œ ì‹œì‘
   - ê¸°ì¡´ DB ë³´ì¡´
   - ì‹œê°„ ì†Œìš”: 10ë¶„ ì¶”ê°€

3. **í˜„ì¬ DB ìœ ì§€í•˜ê³  ìˆ˜ë™ ALTER TABLE**:
   - 3ê°œ í…Œì´ë¸”ë§Œ ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€
   - ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±í•˜ì§€ ì•ŠìŒ
   - ê¶Œì¥í•˜ì§€ ì•ŠìŒ (Prismaì™€ ë™ê¸°í™” ë¬¸ì œ)

---

### Option C: ë‹¤ë¥¸ ì‘ì—… ìš°ì„  ìˆ˜í–‰

**ì‚¬ìš©ì ì§€ì‹œ í•„ìš”**: ì›í•˜ì‹œëŠ” ì‘ì—… ëª…ì‹œ

**ê°€ëŠ¥í•œ ì‘ì—…**:
- Frontend UI ê°œì„ 
- ê¸°ì¡´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‘ì„±
- ë¬¸ì„œ ì¶”ê°€ ì •ë¦¬
- ê¸°íƒ€ ìš”ì²­ì‚¬í•­

---

## ğŸ“‹ ê¶Œì¥ ì‚¬í•­

**ìµœìš°ì„  ê¶Œì¥**: **Option A (Database ë§ˆì´ê·¸ë ˆì´ì…˜ ì§„í–‰)**

**ì´ìœ **:
1. âœ… ê°œë°œ í™˜ê²½ì´ë¯€ë¡œ ì•ˆì „í•¨
2. âœ… Phase 3-5 êµ¬í˜„ì„ ìœ„í•´ í•„ìˆ˜
3. âœ… ì™„ì „í•œ êµ¬í˜„ ê°€ì´ë“œ ì´ë¯¸ ì‘ì„±ë¨ (172ë²ˆ ë¬¸ì„œ)
4. âœ… ì´ 3.25ì‹œê°„ìœ¼ë¡œ ë¹ ë¥¸ ì™„ë£Œ ê°€ëŠ¥
5. âœ… ê¹¨ë—í•œ DB ìƒíƒœì—ì„œ ì‹œì‘ ê°€ëŠ¥

---

## ğŸš€ ì§„í–‰ ë°©ë²•

**ì‚¬ìš©ìë‹˜ê»˜ ìš”ì²­ë“œë¦½ë‹ˆë‹¤:**

ì•„ë˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”:

1. **"yes"** ì…ë ¥ ì‹œ
   â†’ Option A ì§„í–‰ (Database ì´ˆê¸°í™” í›„ Phase 3-5 êµ¬í˜„)

2. **"option B"** ì…ë ¥ ì‹œ
   â†’ ëŒ€ì•ˆ ë°©ë²• ì„ íƒ (êµ¬ì²´ì ì¸ ë°©ë²• ì¶”ê°€ ë…¼ì˜)

3. **ë‹¤ë¥¸ ì‘ì—… ì§€ì‹œ** ì…ë ¥ ì‹œ
   â†’ í•´ë‹¹ ì‘ì—… ìš°ì„  ìˆ˜í–‰

---

## ğŸ“Š í”„ë¡œì íŠ¸ ì§„í–‰ë¥  ì˜ˆìƒ

**í˜„ì¬**: 40% (Phase 1-2 ì™„ë£Œ)

**Option A ì™„ë£Œ ì‹œ**: 100% (ì „ì²´ ì™„ë£Œ)

```
âœ… Phase 1-2:  QR UI ì™„ì„±           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
â³ Phase 3:    Database              â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
â³ Phase 4:    API êµ¬í˜„              â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
â³ Phase 5:    ë§ˆì´í˜ì´ì§€             â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
```

**Option A ì™„ë£Œ í›„**:

```
âœ… Phase 1-2:  QR UI ì™„ì„±           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
âœ… Phase 3:    Database              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
âœ… Phase 4:    API êµ¬í˜„              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
âœ… Phase 5:    ë§ˆì´í˜ì´ì§€             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
```

---

**ë‹¤ìŒ ì‘ì—…**: ì‚¬ìš©ì ì§€ì‹œ ëŒ€ê¸° ì¤‘
**ì˜ˆìƒ ë‹´ë‹¹ì**: hands-on worker (ìŠ¹ì¸ í›„ Phase 3-5 êµ¬í˜„)
