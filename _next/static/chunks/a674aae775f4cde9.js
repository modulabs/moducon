(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},15288,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(75157);let o=r.forwardRef(({className:e,...r},o)=>(0,t.jsx)("div",{ref:o,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));o.displayName="Card";let i=r.forwardRef(({className:e,...r},o)=>(0,t.jsx)("div",{ref:o,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let a=r.forwardRef(({className:e,...r},o)=>(0,t.jsx)("div",{ref:o,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...r}));a.displayName="CardTitle";let s=r.forwardRef(({className:e,...r},o)=>(0,t.jsx)("div",{ref:o,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));s.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},o)=>(0,t.jsx)("div",{ref:o,className:(0,n.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent";let u=r.forwardRef(({className:e,...r},o)=>(0,t.jsx)("div",{ref:o,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter",e.s(["Card",()=>o,"CardContent",()=>l,"CardDescription",()=>s,"CardFooter",()=>u,"CardHeader",()=>i,"CardTitle",()=>a])},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:u,...d},c)=>(0,t.createElement)("svg",{ref:c,...o,width:r,height:r,stroke:e,strokeWidth:a?24*Number(i)/Number(r):i,className:n("lucide",s),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...u.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),a=(e,o)=>{let a=(0,t.forwardRef)(({className:a,...s},l)=>(0,t.createElement)(i,{ref:l,iconNode:o,className:n(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...s}));return a.displayName=r(e),a};e.s(["default",()=>a],75254)},10204,9165,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var n=e.i(91918),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,o)=>{let i=(0,n.createSlot)(`Primitive.${o}`),a=r.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?i:o,{...a,ref:r})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(o.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var a=e.i(25913),s=e.i(75157);let l=(0,a.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i,{ref:n,className:(0,s.cn)(l(),e),...r}));u.displayName=i.displayName,e.s(["Label",()=>u],10204),e.i(47167);let d="http://localhost:3000";async function c(e,t){let r=localStorage.getItem("token"),n=await fetch(`${d}${e}`,{...t,headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t?.headers}}),o=await n.json();if(!n.ok){let t=o.error?.message||`API Error (${n.status})`;throw console.error("[API Error]",{url:`${d}${e}`,status:n.status,error:o.error}),Error(t)}return o.data}e.s(["authAPI",0,{login:(e,t)=>c("/api/auth/login",{method:"POST",body:JSON.stringify({name:e,phone_last4:t})}),saveSignature:e=>c("/api/auth/signature",{method:"POST",body:JSON.stringify({signature_data:e})}),getMe:()=>c("/api/auth/me")}],9165)},615,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),o=e.i(19455),i=e.i(15288),a=e.i(20783);function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var l=globalThis?.document?r.useLayoutEffect:()=>{};r[" useEffectEvent ".trim().toString()],r[" useInsertionEffect ".trim().toString()];var u=r[" useInsertionEffect ".trim().toString()]||l;Symbol("RADIX:SYNC_STATE");var d=e=>{var t;let n,o,{present:i,children:s}=e,u=function(e){var t,n;let[o,i]=r.useState(),a=r.useRef(null),s=r.useRef(e),u=r.useRef("none"),[d,f]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=c(a.current);u.current="mounted"===d?e:"none"},[d]),l(()=>{let t=a.current,r=s.current;if(r!==e){let n=u.current,o=c(t);e?f("MOUNT"):"none"===o||t?.display==="none"?f("UNMOUNT"):r&&n!==o?f("ANIMATION_OUT"):f("UNMOUNT"),s.current=e}},[e,f]),l(()=>{if(o){let e,t=o.ownerDocument.defaultView??window,r=r=>{let n=c(a.current).includes(CSS.escape(r.animationName));if(r.target===o&&n&&(f("ANIMATION_END"),!s.current)){let r=o.style.animationFillMode;o.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===o.style.animationFillMode&&(o.style.animationFillMode=r)})}},n=e=>{e.target===o&&(u.current=c(a.current))};return o.addEventListener("animationstart",n),o.addEventListener("animationcancel",r),o.addEventListener("animationend",r),()=>{t.clearTimeout(e),o.removeEventListener("animationstart",n),o.removeEventListener("animationcancel",r),o.removeEventListener("animationend",r)}}f("ANIMATION_END")},[o,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback(e=>{a.current=e?getComputedStyle(e):null,i(e)},[])}}(i),d="function"==typeof s?s({present:u.isPresent}):r.Children.only(s),f=(0,a.useComposedRefs)(u.ref,(t=d,(o=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(o=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||u.isPresent?r.cloneElement(d,{ref:f}):null};function c(e){return e?.animationName||"none"}d.displayName="Presence",e.i(74080);var f=Symbol("radix.slottable");function m(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{var o,i;let s,l,u,d=(i=o=`Primitive.${n}`,(s=r.forwardRef((e,t)=>{let{children:n,...o}=e;if(r.isValidElement(n)){var i;let e,s,l=(i=n,(s=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(s=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),u=function(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...e)=>{let t=i(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...i}:"className"===n&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}(o,n.props);return n.type!==r.Fragment&&(u.ref=t?(0,a.composeRefs)(t,l):l),r.cloneElement(n,u)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${i}.SlotClone`,l=s,(u=r.forwardRef((e,n)=>{let{children:o,...i}=e,a=r.Children.toArray(o),s=a.find(m);if(s){let e=s.props.children,o=a.map(t=>t!==s?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(l,{...i,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null})}return(0,t.jsx)(l,{...i,ref:n,children:o})})).displayName=`${o}.Slot`,u),c=r.forwardRef((e,r)=>{let{asChild:o,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(o?d:n,{...i,ref:r})});return c.displayName=`Primitive.${n}`,{...e,[n]:c}},{}),h="Checkbox",[v,g]=function(e,n=[]){let o=[],i=()=>{let t=o.map(e=>r.createContext(e));return function(n){let o=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:o}}),[n,o])}};return i.scopeName=e,[function(n,i){let a=r.createContext(i),s=o.length;o=[...o,i];let l=n=>{let{scope:o,children:i,...l}=n,u=o?.[e]?.[s]||a,d=r.useMemo(()=>l,Object.values(l));return(0,t.jsx)(u.Provider,{value:d,children:i})};return l.displayName=n+"Provider",[l,function(t,o){let l=o?.[e]?.[s]||a,u=r.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let o=n.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}(i,...n)]}(h),[y,x]=v(h);function w(e){let{__scopeCheckbox:n,checked:o,children:i,defaultChecked:a,disabled:s,form:l,name:d,onCheckedChange:c,required:f,value:m="on",internal_do_not_use_render:p}=e,[v,g]=function({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){let[i,a,s]=function({defaultProp:e,onChange:t}){let[n,o]=r.useState(e),i=r.useRef(n),a=r.useRef(t);return u(()=>{a.current=t},[t]),r.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,o,a]}({defaultProp:t,onChange:n}),l=void 0!==e,d=l?e:i;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${o} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,o])}return[d,r.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else a(t)},[l,e,a,s])]}({prop:o,defaultProp:a??!1,onChange:c,caller:h}),[x,w]=r.useState(null),[b,N]=r.useState(null),C=r.useRef(!1),R=!x||!!l||!!x.closest("form"),j={checked:v,disabled:s,setChecked:g,control:x,setControl:w,name:d,form:l,value:m,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:!S(a)&&a,isFormControl:R,bubbleInput:b,setBubbleInput:N};return(0,t.jsx)(y,{scope:n,...j,children:"function"==typeof p?p(j):i})}var b="CheckboxTrigger",N=r.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:o,...i},l)=>{let{control:u,value:d,disabled:c,checked:f,required:m,setControl:h,setChecked:v,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:w}=x(b,e),N=(0,a.useComposedRefs)(l,h),C=r.useRef(f);return r.useEffect(()=>{let e=u?.form;if(e){let t=()=>v(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[u,v]),(0,t.jsx)(p.button,{type:"button",role:"checkbox","aria-checked":S(f)?"mixed":f,"aria-required":m,"data-state":T(f),"data-disabled":c?"":void 0,disabled:c,value:d,...i,ref:N,onKeyDown:s(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:s(o,e=>{v(e=>!!S(e)||!e),w&&y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});N.displayName=b;var C=r.forwardRef((e,r)=>{let{__scopeCheckbox:n,name:o,checked:i,defaultChecked:a,required:s,disabled:l,value:u,onCheckedChange:d,form:c,...f}=e;return(0,t.jsx)(w,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:s,onCheckedChange:d,name:o,form:c,value:u,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N,{...f,ref:r,__scopeCheckbox:n}),e&&(0,t.jsx)(k,{__scopeCheckbox:n})]})})});C.displayName=h;var R="CheckboxIndicator",j=r.forwardRef((e,r)=>{let{__scopeCheckbox:n,forceMount:o,...i}=e,a=x(R,n);return(0,t.jsx)(d,{present:o||S(a.checked)||!0===a.checked,children:(0,t.jsx)(p.span,{"data-state":T(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=R;var E="CheckboxBubbleInput",k=r.forwardRef(({__scopeCheckbox:e,...n},o)=>{let i,{control:s,hasConsumerStoppedPropagationRef:u,checked:d,defaultChecked:c,required:f,disabled:m,name:h,value:v,form:g,bubbleInput:y,setBubbleInput:w}=x(E,e),b=(0,a.useComposedRefs)(o,w),N=(i=r.useRef({value:d,previous:d}),r.useMemo(()=>(i.current.value!==d&&(i.current.previous=i.current.value,i.current.value=d),i.current.previous),[d])),C=function(e){let[t,n]=r.useState(void 0);return l(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,o;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,o=t.blockSize}else r=e.offsetWidth,o=e.offsetHeight;n({width:r,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(s);r.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!u.current;if(N!==d&&e){let r=new Event("click",{bubbles:t});y.indeterminate=S(d),e.call(y,!S(d)&&d),y.dispatchEvent(r)}},[y,N,d,u]);let R=r.useRef(!S(d)&&d);return(0,t.jsx)(p.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??R.current,required:f,disabled:m,name:h,value:v,form:g,...n,tabIndex:-1,ref:b,style:{...n.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function T(e){return S(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=E;let P=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var O=e.i(75157);let A=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(C,{ref:n,className:(0,O.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,t.jsx)(j,{className:(0,O.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(P,{className:"h-4 w-4"})})}));A.displayName=C.displayName;var M=e.i(10204),L=e.i(9165),I=e.i(84981);function $(){let e=(0,n.useRouter)(),a=(0,r.useRef)(null),[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[c,f]=(0,r.useState)(!0),[m,p]=(0,r.useState)(!1),{user:h,updateUser:v}=(0,I.useAuthStore)();(0,r.useEffect)(()=>{h?h.has_signature&&e.push("/home"):e.push("/login")},[h,e]),(0,r.useEffect)(()=>{let e=e=>{s&&e.preventDefault()};return document.body.addEventListener("touchstart",e,{passive:!1}),document.body.addEventListener("touchend",e,{passive:!1}),document.body.addEventListener("touchmove",e,{passive:!1}),()=>{document.body.removeEventListener("touchstart",e),document.body.removeEventListener("touchend",e),document.body.removeEventListener("touchmove",e)}},[s]),(0,r.useEffect)(()=>{let e=a.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let r=e.getBoundingClientRect();e.width=r.width*window.devicePixelRatio,e.height=r.height*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio),t.strokeStyle="#000",t.lineWidth=2.5,t.lineCap="round",t.lineJoin="round"},[]);let g=e=>{let t=a.current.getBoundingClientRect();return{x:"touches"in e?e.touches[0].clientX-t.left:e.clientX-t.left,y:"touches"in e?e.touches[0].clientY-t.top:e.clientY-t.top}},y=e=>{l(!0),f(!1);let{x:t,y:r}=g(e),n=a.current?.getContext("2d");n&&(n.beginPath(),n.moveTo(t,r))},x=e=>{if(!s)return;let{x:t,y:r}=g(e),n=a.current?.getContext("2d");n&&(n.lineTo(t,r),n.stroke())},w=()=>{l(!1)},b=async()=>{if(c)return void alert("서명을 작성해주세요.");if(!m)return void alert("개인정보 수집 및 이용에 동의해주세요.");let t=a.current;if(t){d(!0);try{let r=t.toDataURL("image/png");await L.authAPI.saveSignature(r),h&&v({...h,has_signature:!0}),e.push("/home")}catch(e){console.error("Failed to save signature:",e),alert("서명 저장에 실패했습니다. 다시 시도해주세요.")}finally{d(!1)}}};return h?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",children:(0,t.jsxs)(i.Card,{className:"w-full max-w-2xl",children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{className:"text-2xl",children:"디지털 서명 및 동의"}),(0,t.jsx)(i.CardDescription,{children:"원활한 컨퍼런스 경험을 위해 개인정보 수집 및 이용에 동의하고 서명을 완료해주세요."})]}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"relative w-full h-64 rounded-lg border-2 border-dashed bg-white",children:[(0,t.jsx)("canvas",{ref:a,className:"w-full h-full cursor-crosshair touch-none",onMouseDown:y,onMouseMove:x,onMouseUp:w,onMouseLeave:w,onTouchStart:y,onTouchMove:x,onTouchEnd:w}),c&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 pointer-events-none",children:"이곳에 서명해주세요"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A,{id:"consent",checked:m,onCheckedChange:e=>p(!!e)}),(0,t.jsx)(M.Label,{htmlFor:"consent",className:"text-sm font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"(필수) 개인정보 수집 및 이용에 동의합니다."})]})]}),(0,t.jsxs)(i.CardFooter,{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>{let e=a.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),f(!0))},className:"w-full sm:w-auto",disabled:u,children:"다시 작성"}),(0,t.jsx)(o.Button,{type:"button",onClick:b,className:"w-full sm:flex-1",disabled:u||c||!m,children:u?"저장 중...":"동의 및 서명 완료"})]})]})}):null}e.s(["default",()=>$],615)}]);