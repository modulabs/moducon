(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86826,15089,e=>{"use strict";e.i(47167);let t="https://backend.vibemakers.kr",s="moducon_sessions",a="moducon_sessions_timestamp",r="moducon_sessions_version";async function l(e){try{let t=localStorage.getItem(s),l=localStorage.getItem(a);if("2.0"!==localStorage.getItem(r)&&(console.log("캐시 버전 불일치, 무효화"),n()),t&&l){let s=Date.now()-parseInt(l);if(s<3e5){console.log(`캐시 히트 (${Math.floor(s/1e3)}초 전)`);let a=JSON.parse(t);return e?a.filter(t=>t.track===e):a}console.log("캐시 만료")}let i=await o();return localStorage.setItem(s,JSON.stringify(i)),localStorage.setItem(a,Date.now().toString()),localStorage.setItem(r,"2.0"),console.log(`캐시 저장 (${i.length}개 세션)`),e?i.filter(t=>t.track===e):i}catch(t){console.error("세션 로딩 실패:",t);{let t=localStorage.getItem(s);if(t){console.warn("오프라인 모드: 캐시 데이터 사용");let s=JSON.parse(t);return e?s.filter(t=>t.track===e):s}}throw t}}async function o(e){let s=e?`${t}/api/sessions?track=${encodeURIComponent(e)}`:`${t}/api/sessions`,a=await fetch(s);if(!a.ok)throw Error(`세션 데이터 로딩 실패: ${a.status}`);let r=await a.json();return r.data||r}function n(){localStorage.removeItem(s),localStorage.removeItem(a),localStorage.removeItem(r),console.log("캐시 무효화 완료")}function i(e){let[t,s]=e.split("-").map(e=>e.trim());return{startTime:t||"",endTime:s||""}}e.s(["fetchSessionsWithCache",()=>l,"invalidateSessionsCache",()=>n],86826),e.s(["parseTimeSlot",()=>i],15089)},32290,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(22016),l=e.i(86826),o=e.i(15089);let n=["Track 00","Track 01","Track 10","Track i","Track 101"];function i(){let e=(0,a.useRouter)(),[i,c]=(0,s.useState)([]),[x,d]=(0,s.useState)(null),[m,g]=(0,s.useState)(!0),[h,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!localStorage.getItem("admin_token"))return void e.push("/admin/login")},[e]);let y=(0,s.useCallback)(async e=>{g(!0),p(null);try{let t=await (0,l.fetchSessionsWithCache)();e?c(t.filter(t=>t.track===e)):c(t)}catch(e){console.error("세션 로딩 실패:",e),p("세션 데이터를 불러올 수 없습니다.")}finally{g(!1)}},[]);(0,s.useEffect)(()=>{y(x||void 0)},[x,y]);let u=e=>{d(e)};return(0,t.jsx)("div",{className:"min-h-[100dvh] bg-gray-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"세션 Q&A 관리"}),(0,t.jsxs)("p",{className:"text-gray-600 text-sm",children:["세션별 질문을 관리합니다. (총 ",i.length,"개)"]})]}),(0,t.jsx)(r.default,{href:"/admin",className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition text-sm",children:"← 대시보드"})]}),(0,t.jsxs)("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2",children:[(0,t.jsx)("button",{onClick:()=>u(null),className:`px-4 py-2 rounded text-sm font-medium transition shrink-0 ${null===x?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"전체"}),n.map(e=>(0,t.jsx)("button",{onClick:()=>u(e),className:`px-4 py-2 rounded text-sm font-medium transition shrink-0 ${x===e?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:e},e))]}),(0,t.jsx)("div",{className:"bg-white rounded border border-gray-300",children:m?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"로딩 중..."}):h?(0,t.jsx)("div",{className:"p-8 text-center text-red-500",children:h}):0===i.length?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"세션이 없습니다."}):(0,t.jsxs)("table",{className:"min-w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"코드"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"트랙"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"제목"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"발표자"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"시간"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"관리"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.map(e=>{let{startTime:s,endTime:a}=(0,o.parseTimeSlot)(e.timeSlot);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:e.code}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded text-gray-700 text-xs",children:e.track})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-md truncate",children:e.title}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.speakerName}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:[s,"-",a]}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)(r.default,{href:`/admin/sessions/${e.code}`,className:"px-3 py-1 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition",children:"Q&A 관리"})})]},e.id)})})]})})]})})}e.s(["default",()=>i])}]);